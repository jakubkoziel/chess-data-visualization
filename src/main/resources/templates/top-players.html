<!DOCTYPE html>
<html lang="en" xmlns:th="https://www.thymeleaf.org/">
<head>
    <meta charset="UTF-8">
    <title>Chess Data Explorer</title>
    <link rel="stylesheet"
          href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">

    <title>Top players</title>


</head>
<body>

<div th:replace="~{fragments/navigation :: navigation}">

</div>

<!--
<main role="main" class="flex-shrink-0">
    <div class="container mt-5">
        <div class="jumbotron">
            <h1 class="display-4">Player history displayed</h1>
        </div>
    </div>
</main>

-->

<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.9.4/Chart.min.js"></script>




<canvas id="bullet" th:width="400" th:height="100"></canvas>

<script th:inline="javascript">
    /*<![CDATA[*/


    new Chart(document.getElementById("bullet"), {
        type: 'bar',
        data: {
            labels: [[${topPlayersData[0].nicknames}]],
            datasets: [{
                data: [[${topPlayersData[0].points}]],
                label: "Actual points",
                backgroundColor: hexToRGB("#76448a",0.5),
                borderColor: hexToRGB("#76448a"),
                borderWidth: 2
            }, {
                data: [[${topPlayersData[0].added}]],
                backgroundColor: hexToRGB("#145a32",0.5),
                borderColor: hexToRGB("#145a32"),
                label: "Positive progress",
                borderWidth: 2
            }, {
                data: [[${topPlayersData[0].subtracted}]],
                backgroundColor: hexToRGB("#C70039",0.5),
                borderColor: hexToRGB("#C70039"),
                label: "Negative progress",
                borderWidth: 2
            }]
        },
        options: {
            title: {
                display: true,
                text: 'Top 10 players in bullet'
            }, scales: {
                yAxes: [{
                    ticks: {
                        beginAtZero: true
                    },
                    stacked: true
                }],
                xAxes: [{
                    stacked: true
                }]
            }
        }
    });



    function hexToRGB(hex, alpha) {
        var r = parseInt(hex.slice(1, 3), 16),
            g = parseInt(hex.slice(3, 5), 16),
            b = parseInt(hex.slice(5, 7), 16);

        if (alpha) {
            return "rgba(" + r + ", " + g + ", " + b + ", " + alpha + ")";
        } else {
            return "rgb(" + r + ", " + g + ", " + b + ")";
        }
    }


    /*]]>*/
</script>

<canvas id="blitz" th:width="400" th:height="100"></canvas>

<script th:inline="javascript">
    /*<![CDATA[*/


    new Chart(document.getElementById("blitz"), {
        type: 'bar',
        data: {
            labels: [[${topPlayersData[1].nicknames}]],
            datasets: [{
                data: [[${topPlayersData[1].points}]],
                label: "Actual points",
                backgroundColor: hexToRGB("#21618c",0.5),
                borderColor: hexToRGB("#21618c"),
                borderWidth: 2
            }, {
                data: [[${topPlayersData[1].added}]],
                backgroundColor: hexToRGB("#145a32",0.5),
                borderColor: hexToRGB("#145a32"),
                label: "Positive progress",
                borderWidth: 2
            }, {
                data: [[${topPlayersData[1].subtracted}]],
                backgroundColor: hexToRGB("#C70039",0.5),
                borderColor: hexToRGB("#C70039"),
                label: "Negative progress",
                borderWidth: 2
            }]
        },
        options: {
            title: {
                display: true,
                text: 'Top 10 players in blitz'
            }, scales: {
                yAxes: [{
                    ticks: {
                        beginAtZero: true
                    },
                    stacked: true
                }],
                xAxes: [{
                    stacked: true
                }]
            }
        }
    });



    function hexToRGB(hex, alpha) {
        var r = parseInt(hex.slice(1, 3), 16),
            g = parseInt(hex.slice(3, 5), 16),
            b = parseInt(hex.slice(5, 7), 16);

        if (alpha) {
            return "rgba(" + r + ", " + g + ", " + b + ", " + alpha + ")";
        } else {
            return "rgb(" + r + ", " + g + ", " + b + ")";
        }
    }


    /*]]>*/
</script>





<canvas id="rapid" th:width="400" th:height="100"></canvas>

<script th:inline="javascript">
    /*<![CDATA[*/


    new Chart(document.getElementById("rapid"), {
        type: 'bar',
        data: {
            labels: [[${topPlayersData[2].nicknames}]],
            datasets: [{
                data: [[${topPlayersData[2].points}]],
                label: "Actual points",
                backgroundColor: hexToRGB("#dc7633",0.5),
                borderColor: hexToRGB("#dc7633"),
                borderWidth: 2
            }, {
                data: [[${topPlayersData[2].added}]],
                backgroundColor: hexToRGB("#145a32",0.5),
                borderColor: hexToRGB("#145a32"),
                label: "Positive progress",
                borderWidth: 2
            }, {
                data: [[${topPlayersData[2].subtracted}]],
                backgroundColor: hexToRGB("#C70039",0.5),
                borderColor: hexToRGB("#C70039"),
                label: "Negative progress",
                borderWidth: 2
            }]
        },
        options: {
            title: {
                display: true,
                text: 'Top 10 players in rapid'
            }, scales: {
                yAxes: [{
                    ticks: {
                        beginAtZero: true
                    },
                    stacked: true
                }],
                xAxes: [{
                    stacked: true
                }]
            }
        }
    });



    function hexToRGB(hex, alpha) {
        var r = parseInt(hex.slice(1, 3), 16),
            g = parseInt(hex.slice(3, 5), 16),
            b = parseInt(hex.slice(5, 7), 16);

        if (alpha) {
            return "rgba(" + r + ", " + g + ", " + b + ", " + alpha + ")";
        } else {
            return "rgb(" + r + ", " + g + ", " + b + ")";
        }
    }


    /*]]>*/
</script>




<canvas id="classical" th:width="400" th:height="100"></canvas>

<script th:inline="javascript">
    /*<![CDATA[*/


    new Chart(document.getElementById("classical"), {
        type: 'bar',
        data: {
            labels: [[${topPlayersData[3].nicknames}]],
            datasets: [{
                data: [[${topPlayersData[3].points}]],
                label: "Actual points",
                backgroundColor: hexToRGB("#f4d03f",0.5),
                borderColor: hexToRGB("#f4d03f"),
                borderWidth: 2
            }, {
                data: [[${topPlayersData[3].added}]],
                backgroundColor: hexToRGB("#145a32",0.5),
                borderColor: hexToRGB("#145a32"),
                label: "Positive progress",
                borderWidth: 2
            }, {
                data: [[${topPlayersData[3].subtracted}]],
                backgroundColor: hexToRGB("#C70039",0.5),
                borderColor: hexToRGB("#C70039"),
                label: "Negative progress",
                borderWidth: 2
            }]
        },
        options: {
            title: {
                display: true,
                text: 'Top 10 players in classical'
            }, scales: {
                yAxes: [{
                    ticks: {
                        beginAtZero: true
                    },
                    stacked: true
                }],
                xAxes: [{
                    stacked: true
                }]
            }
        }
    });



    function hexToRGB(hex, alpha) {
        var r = parseInt(hex.slice(1, 3), 16),
            g = parseInt(hex.slice(3, 5), 16),
            b = parseInt(hex.slice(5, 7), 16);

        if (alpha) {
            return "rgba(" + r + ", " + g + ", " + b + ", " + alpha + ")";
        } else {
            return "rgb(" + r + ", " + g + ", " + b + ")";
        }
    }


    /*]]>*/
</script>






<script
        src="http://code.jquery.com/jquery-3.5.1.slim.js"
        integrity="sha256-DrT5NfxfbHvMHux31Lkhxg42LY6of8TaYyK50jnxRnM="
        crossorigin="anonymous">
</script>

<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.bundle.min.js">
</script>




</body>
</html>